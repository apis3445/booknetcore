# 13.8 Agregando las colecciones de postman al pipeline.

Para poder ejecutar las colecciones de postman con newman en Azure Devops vamos a modificar el pipeline para incluir la carpeta de postman.

### Crear un archivo .bat para correr las colecciones

### Configurar el pipeline

1. Ve a la opción de pipelines y busca la opción **Copy Files** 

![](../.gitbook/assets/image%20%28578%29.png)

2. Teclea lo siguiente y da clic en el botón **Add**

* **Source Folder:** La ruta donde se encuentran las colecciones de postman. En este ejemplo: **CaducaRest.IntegrationTest/postman**
* **Contents:** Deja la opción por defecto **\*\*** para que se copien todos los archivos.
* **Target Folder:** La ruta donde se copiara la carpeta. En este ejemplo: **$\(Build.ArtifactStagingDirectory\)/postman**

![](../.gitbook/assets/image%20%28571%29.png)

3. La tarea debe estar después del publish del Code Coverage

```text
- task: PublishCodeCoverageResults@1
  displayName: 'Publish code coverage report'
  inputs:
    codeCoverageTool: 'Cobertura'
    summaryFileLocation: '$(Build.SourcesDirectory)/**/coverage.cobertura.xml'

- task: CopyFiles@2
  displayName: Copy postman scripts
  inputs:
    SourceFolder: 'CaducaRest.IntegrationTest/postman'
    Contents: '**'
    TargetFolder: '$(Build.ArtifactStagingDirectory)/postman'

```

4. Al final agrega otra tarea para publicar la carpeta de postman como Artifact. Puedes ver la sección de Integración continua o copiar directamente en el archivo .yaml lo siguiente.

```text
- task: PublishBuildArtifacts@1
  displayName: "Upload Artifacts postman"
  inputs:
        pathtoPublish: '$(Build.ArtifactStagingDirectory)/postman' 
        artifactName: 'postmanTesting' 
```

