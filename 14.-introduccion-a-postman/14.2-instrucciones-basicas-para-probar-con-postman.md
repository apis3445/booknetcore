# 13.2 Instrucciones básicas para probar con Postman

Postman cuenta con algunas funciones ya definidas y algunas liberías javascript paraa probar tus servicios.

La sintaxis básica es:

```
pm.test("Descripción del caso de prueba", function() {
    //código para la prueba
    pm.expect("valor esperado").to.equal("valor")
});
```

Para indicar que quieres agregar un nuevo caso de prueba es con el objeto **pm** luego **. **luego la función **test **entre paréntesis el primer parámetro es la **descripción del test**, luego una función.&#x20;

Por lo general el código para probar es con **pm** luego **.** luego la función **expect** como parámetro agregas el valor esperado y luego el valor y la condición que deseas probar en el ejemplo se prueba que sea igual a un valor.

### Instrucciones básicas

| Prueba                                                 | Código                                                                                                                                       |
| ------------------------------------------------------ | -------------------------------------------------------------------------------------------------------------------------------------------- |
| Revisar el status                                      | <p>pm.response.to.have.status(200);</p><p>pm.expect(pm.response.code).to.be.oneOf([201,202]);</p>                                            |
| Revisar tiempo de respuesta                            | <p>pm.expect(pm.response.responseTime).to.be.below(200);</p><p>pm.response.to.have.status("Created");</p>                                    |
| Revisar un header                                      | pm.response.to.have.header("Content-Type");                                                                                                  |
| Comparar el tipo de dato                               | <p>pm.expect('Postman').to.be.a('string');</p><p>pm.expect({a: 1}).to.be.an('object');</p><p>pm.expect(undefined).to.be.an('undefined');</p> |
| Revisar que el body tenga un texto                     | pm.expect(pm.response.text()).to.include("string a buscar");                                                                                 |
| Obtener el json                                        | var jsonData = pm.response.json();                                                                                                           |
| Convertir un xml a json                                | var jsonObject = xml2Json(responseBody);                                                                                                     |
| Revisar que un valor en el json sea igual a otro valor | <p>var jsonData = pm.response.json();</p><p>pm.expect(jsonData.value).to.eql(100);</p>                                                       |
| Revisa que exista una cadena en otra cadena            | pm.expect('Cadena').to.have.string('de');                                                                                                    |
| Revisar que un array o cadena este vacío               | <p>pm.expect([]).to.be.empty;</p><p>pm.expect('').to.be.empty;</p>                                                                           |
| Revisar todas propiedades de un objeto                 | <p>pm.expect({a: 1, b: 2}).to.have.all.keys('a', 'b');</p><p>    });</p>                                                                     |
| Revisar que tenga solo algunas propiedades             | <p>pm.expect({a: 1, b: 2}).to.have.any.keys('a', 'b');</p><p>    });</p>                                                                     |
| Revisar que un objeto no tenga alguna propiedad        | <p>pm.expect({a: 1, b: 2}).to.not.have.any.keys('c', 'd');</p><p>    });</p>                                                                 |
| Revisar la longitud de una cadena                      | pm.expect('foo').to.have.lengthOf(3);                                                                                                        |
| Revisar el número de elementos array                   | pm.expect(\[1, 2, 3]).to.have.lengthOf(3);                                                                                                   |
| Revisar qu exista un elemento en un array              | pm.expect(\[1, 2, 3]).to.include(2);                                                                                                         |
