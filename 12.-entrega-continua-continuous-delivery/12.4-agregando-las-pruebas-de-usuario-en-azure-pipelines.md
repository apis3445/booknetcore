# 12.4 Agregando las pruebas de usuario en Azure Pipelines

### 12.4.1 Configurando el Pipeline para generar el proyecto de Selenium

Puedes configurar tu release para que se ejecuten las pruebas con selenium después del deploy, para esto debes agregar en tu Pipeline que deseas generar el buid para el proyecto de selenium y publicarlo como artifact.

En tu archivo yaml, después del task de Publish Win, agrega un nuevo task de .**Net Core.** Configuralo de la siguiente manera:

![](../.gitbook/assets/image%20%28162%29.png)

El archivo yaml queda de la siguiente manera:

```yaml
- task: DotNetCoreCLI@2
  displayName: "Build Selenium testing"
  inputs:
    command: 'publish'
    publishWebProjects: false
    projects: '**/CaducaRest.UITest/*.csproj' 
    arguments: '--configuration $(BuildConfiguration) --output $(Build.ArtifactStagingDirectory)/selenium --framework netcoreapp3.1'
    zipAfterPublish: false
```

Agrega la tarea de publish para publicar los archivos del proyecto de selenium

```yaml
- task: PublishBuildArtifacts@1
  displayName: "Upload Artifacts selenium"
  inputs:
        pathtoPublish: '$(Build.ArtifactStagingDirectory)/selenium' 
        artifactName: 'seleniumTesting' 
```

### 12.4.2 Configurando el Release

Después de crear y generar el artifact, en Azure Devops entra a tu **Releases** y da clic en **Edit**

![](../.gitbook/assets/image%20%28141%29.png)

1. Da clic en el botón Add

![](../.gitbook/assets/image%20%28241%29.png)

2. Selecciona Empty Job

![](../.gitbook/assets/image%20%28137%29.png)

3. Escribe el nombre en esta caso será **Pruebas automáticas** y da clic en **Save**

![](../.gitbook/assets/image%20%28354%29.png)

4. Agrega algún comentario y cierra el Stage ****en el botón con la **X**

5. Da clic debajo del nombre donde dice **1 job, 0 task** para agregaaar las tareas de pruebas con selenium

![](../.gitbook/assets/image%20%2851%29.png)

6. Da clic en el botón **+** de Agente job para agregar la tarea **Download build artifacts** para descargar el proyecto de selenium previamente generado

![](../.gitbook/assets/image%20%28165%29.png)

7. Configura los siguientes datos:

* 
![](../.gitbook/assets/image%20%28181%29.png)

